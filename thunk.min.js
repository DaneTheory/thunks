/**
 * thunk: v0.3.0
 * https://github.com/teambition/thunk
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.thunk=a.Thunk=b()}(this,function(){"use strict";function a(a){return"function"==typeof a}function b(a,b){var c=[],d=a.length;for(b=b||0;d-->b;)c[d-b]=a[d];return c}var c=Object.prototype.toString,d=Array.isArray||function(a){return"[object Array]"===c.call(a)};return function(c){function e(b){function c(){i.result!==!1&&(i.result=arguments,i.callback&&e(i))}var d,f,g=b.result,i=b.next;if(d=h.onerror||c,b.result=!1,h.debug&&h.debug.apply(null,g),null!=g[0]&&(g=[g[0]],h.onerror))return d(g[0]);try{f=b.callback.apply(null,g)}catch(j){return d(j)}if(null==f)return c(null);if(!a(f)||!f._isThunk)return c(null,f);try{f(c)}catch(j){return d(j)}}function f(b){var c={};return a(b)?(b._isThunk=!0,e({next:c,result:[],callback:function(){return b}})):c.result=null==b?[null]:[null,b],g(c)}function g(b){function c(c){var d={};if(b.result!==!1){if(!a(c))throw new Error("Not Function!!");return b.callback=c,b.next=d,b.result&&e(b),g(d)}}return c._isThunk=!0,c}var h={};return a(c)?h.onerror=c:c&&(h.debug=a(c.debug)?c.debug:null,h.onerror=a(c.onerror)?c.onerror:null),f.all=function(c){function f(a,b){j=0,e({next:i,result:[],callback:function(){if(a)throw a;return b}})}function h(c){function d(c,d){return a(c)&&c._isThunk?void c(function(a,c){return j?a?f(a):(e[d]=arguments.length>2?b(arguments,1):c,--j||f(null,e)):void 0}):(e[d]=c,--j||f(null,e))}for(var e=[],g=j-1;g>=0;g--)d(c[g],g)}var i={},j=c.length;if(!d(c))throw new Error("Not Array!!");j||f(null,[]);try{h(c)}catch(k){f(k)}return g(i)},f}});