/**
 * thunk: v0.4.3
 * https://github.com/teambition/thunk
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.thunk=a.Thunk=b()}(this,function(){"use strict";function a(a){return"function"==typeof a}function b(a){return a&&Object===a.constructor}function c(b){return a(b)&&b._isThunk}function d(a,b){var c=[],d=a.length;for(b=b||0;d-->b;)c[d-b]=a[d];return c}function e(b){return b?(a(b)?b=f(b):a(b.thunk)?b=f(b.thunk):a(b.then)&&(b=f(h(b))),b):b}function f(a){return a._isThunk=!0,a}function g(a){return function(f){function g(){if(j(a)){i=a.length;for(var c=i-1;c>=0;c--)h(a[c],c)}else{if(!b(a))throw new Error("Not array or object");i=1;for(var d in a)i+=1,h(a[d],d);i-=1}i||k||f(null,l)}function h(a,b){return k?void 0:(a=e(a),c(a)?void a(function(a,c){return k?void 0:null!=a?(k=!0,f(a)):(l[b]=arguments.length>2?d(arguments,1):c,--i||f(null,l))}):(l[b]=a,--i||f(null,l)))}var i,k,l=new a.constructor;try{g()}catch(m){k=!0,f(m)}}}function h(a){return function(b){a.then(function(a){b(null,a)},b)}}var i=Object.prototype.toString,j=Array.isArray||function(a){return"[object Array]"===i.call(a)};return function(b){function d(a){var b={ctx:this||null};return a=e(a),c(a)?h({next:b,result:[null],callback:function(){return a}}):b.result=null==a?[null]:[null,a],i(b)}function h(a){function b(){return g.result!==!1?(g.result=arguments,g.callback?h(g):void 0):void 0}var d,f=a.result,g=a.next,i=k.onerror||b;if(a.result=!1,k.debug&&k.debug.apply(null,f),null!=f[0]){if(k.onerror)return i(f[0]);f=[f[0]]}try{switch(f.length){case 1:d=a.callback.call(a.ctx,f[0]);break;case 2:d=a.callback.call(a.ctx,f[0],f[1]);break;case 3:d=a.callback.call(a.ctx,f[0],f[1],f[2]);break;default:d=a.callback.apply(a.ctx,f)}}catch(j){return i(j)}if(null==d)return b(null);if(d=e(d),!c(d))return b(null,d);try{return d(b)}catch(j){return i(j)}}function i(a){return f(function(b){return j(a,b)})}function j(a,b){var c={ctx:a.ctx};if(a.result!==!1)return a.callback=b,a.next=c,a.result&&h(a),i(c)}var k={};return a(b)?k.onerror=b:b&&(k.debug=a(b.debug)?b.debug:null,k.onerror=a(b.onerror)?b.onerror:null),d.all=function(a){return d.call(this,g(a))},d}});