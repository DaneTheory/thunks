/**
 * thunk: v0.3.4
 * https://github.com/teambition/thunk
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.thunk=a.Thunk=b()}(this,function(){"use strict";function a(a){return"function"==typeof a}function b(a){return a&&Object===a.constructor}function c(b){return a(b)&&b._isThunk}function d(a,b){var c=[],d=a.length;for(b=b||0;d-->b;)c[d-b]=a[d];return c}var e=Object.prototype.toString,f=Array.isArray||function(a){return"[object Array]"===e.call(a)};return function(e){function g(b){var c={};return b&&(a(b.thunk)?b=b.thunk:a(b.then)&&(b=k(b))),a(b)?(b._isThunk=!0,i({next:c,result:[null],callback:function(){return b}})):c.result=null==b?[null]:[null,b],h(c)}function h(a){function b(b){var c={};if(a.result!==!1)return a.callback=b,a.next=c,a.result&&i(a),h(c)}return b._isThunk=!0,b}function i(a){function b(){f.result!==!1&&(f.result=arguments,f.callback&&i(f))}var d,e=a.result,f=a.next,g=l.onerror||b;if(a.result=!1,l.debug&&l.debug.apply(null,e),null!=e[0]){if(l.onerror)return g(e[0]);e=[e[0]]}try{switch(e.length){case 1:d=a.callback(e[0]);break;case 2:d=a.callback(e[0],e[1]);break;case 3:d=a.callback(e[0],e[1],e[2]);break;default:d=a.callback.apply(null,e)}}catch(h){return g(h)}if(null==d)return b(null);if(!c(d))return b(null,d);try{d(b)}catch(h){return g(h)}}function j(a){return function(e){function g(){if(f(a)){i=a.length;for(var c=i-1;c>=0;c--)h(a[c],c)}else{if(!b(a))throw new Error("Not array or object");i=1;for(var d in a)i+=1,h(a[d],d);i-=1}i||j||e(null,k)}function h(a,b){return j?void 0:c(a)?void a(function(a,c){return j?void 0:null!=a?(j=!0,e(a)):(k[b]=arguments.length>2?d(arguments,1):c,--i||e(null,k))}):(k[b]=a,--i||e(null,k))}var i,j,k=new a.constructor;try{g()}catch(l){j=!0,e(l)}}}function k(a){return function(b){a.then(function(a){b(null,a)},b)}}var l={};return a(e)?l.onerror=e:e&&(l.debug=a(e.debug)?e.debug:null,l.onerror=a(e.onerror)?e.onerror:null),g.all=function(a){return g(j(a))},g}});