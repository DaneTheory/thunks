!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):n.thunks=t()}("object"==typeof window?window:this,function(){"use strict";function n(n){return"function"==typeof n}function t(t){return n(t)&&t._isThunk===s}function l(n,t){var l=n.length,u=Array(l);for(t=t||0;l-->t;)u[l-t]=n[l];return u}function u(n,t,l,u){if(u)for(var r=0,e=n.length;e>r;r++)t.call(l,n[r],r,n);else for(var o in n)d.call(n,o)&&t.call(l,n[o],o,n)}function r(n,t,l){try{switch(l.length){case 1:return t.call(this,l[0])||null;case 2:return t.call(this,l[0],l[1])||null;case 3:return t.call(this,l[0],l[1],l[2])||null;default:return t.apply(this,l)||null}}catch(u){n(u)}}function e(t){return t?(n(t)?t=o(t):n(t.toThunk)?t=o(t.toThunk()):n(t.then)&&(t=o(i(t))),t):t}function o(n){return n._isThunk=s,n}function c(n){return function(o){var c,i=1,a=!1,f=p(n);return f?c=Array(n.length):n&&"object"==typeof n&&(c={}),c?void r(function(n){a=!0,o(n)},function(n,t){u(n,t,null,f),--i||a||o(null,c)},[n,function(n,u){return a?void 0:(i++,n=e(n),t(n)?void n(function(n,t){return a?void 0:null!=n?(a=!0,o(n)):(c[u]=arguments.length>2?l(arguments,1):t,--i||o(null,c))}):(c[u]=n,--i||o(null,c)))}]):o(new Error("Not array or object"))}}function i(n){return function(t){n.then(function(n){t(null,n)},t)}}function a(n,l){function u(){return i.result!==!1?(i.result=arguments.length?arguments:[null],i.callback?a.call(f,i):void 0):void 0}var o,c=n.result,i=n.next,f=this,s=f.onerror||u;return n.result=!1,f.debug&&!l&&f.debug.apply(null,c),null!=c[0]&&(c=[c[0]],f.onerror)?s(c[0]):(o=r.call(n.ctx,s,n.callback,c),"undefined"!=typeof o?null===o?u(null):(o=e(o),t(o)?void r.call(n.ctx,s,o,[u]):u(null,o)):void 0)}function f(u){function r(n){return o(function(t){return i(n,t)})}function i(n,t){var l={ctx:n.ctx||null,next:null,result:null,callback:null};if(n.result!==!1)return n.callback=t,n.next=l,n.result&&a.call(s,n),r(l)}function f(n){var l={ctx:this||null,next:null,result:null,callback:null};return n=e(n),t(n)?a.call(s,{ctx:l.ctx,next:l,result:[null],callback:function(){return n}},!0):l.result=null==n?[null]:[null,n],r(l)}var s={onerror:null,debug:null};return n(u)?s.onerror=u:u&&(n(u.debug)&&(s.debug=u.debug),n(u.onerror)&&(s.onerror=u.onerror)),f.all=function(n){return f.call(this===f?null:this,c(n))},f.digest=function(){var n=arguments;return f.call(this===f?null:this,function(t){t.apply(null,n)})},f.thunkify=function(n){var t=this===f?null:this;return function(){var u=l(arguments);return f.call(t||this,function(t){u.push(t),n.apply(this,u)})}},f.delay=function(n){return f.call(this===f?null:this,function(t){setTimeout(t,n)})},f}var s={},h=Object.prototype.toString,d=Object.prototype.hasOwnProperty,p=Array.isArray||function(n){return"[object Array]"===h.call(n)};return f.NAME="thunks",f.VERSION="v1.1.0",f});