/**
 * thunks: v0.8.1
 * https://github.com/teambition/thunks
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.thunks=b()}(this,function(){"use strict";function a(a){return"function"==typeof a}function b(b){return a(b)&&b._isThunk===j}function c(a,b){var c=a.length,d=Array(c);for(b=b||0;c-->b;)d[c-b]=a[c];return d}function d(b){return b?(a(b)?b=e(b):a(b.toThunk)?b=e(b.toThunk()):a(b.then)&&(b=e(g(b))),b):b}function e(a){return a._isThunk=j,a}function f(a){return function(e){function f(){if(m(a)){h=a.length,j=Array(h);for(var b=h-1;b>=0;b--)g(a[b],b)}else{if(!a||"object"!=typeof a)throw new Error("Not array or object");h=1,j={};for(var c in a)l.call(a,c)&&(h+=1,g(a[c],c));h-=1}h||i||e(null,j)}function g(a,f){return i?void 0:(a=d(a),b(a)?void a(function(a,b){return i?void 0:null!=a?(i=!0,e(a)):(j[f]=arguments.length>2?c(arguments,1):b,--h||e(null,j))}):(j[f]=a,--h||e(null,j)))}var h,i,j;try{f()}catch(k){i=!0,e(k)}}}function g(a){return function(b){a.then(function(a){b(null,a)},b)}}function h(a,c){function e(){return i.result!==!1?(i.result=arguments.length?arguments:[null],i.callback?h.call(j,i):void 0):void 0}var f,g=a.result,i=a.next,j=this,k=j.onerror||e;if(a.result=!1,j.debug&&!c&&j.debug.apply(j,g),null!=g[0]){if(j.onerror)return k.call(j,g[0]);g=[g[0]]}try{switch(g.length){case 1:f=a.callback.call(a.ctx,g[0]);break;case 2:f=a.callback.call(a.ctx,g[0],g[1]);break;case 3:f=a.callback.call(a.ctx,g[0],g[1],g[2]);break;default:f=a.callback.apply(a.ctx,g)}}catch(l){return k(l)}if(null==f)return e(null);if(f=d(f),!b(f))return e(null,f);try{return f.call(a.ctx,e)}catch(l){return k(l)}}function i(g){function i(a){return e(function(b){return j(a,b)})}function j(a,b){var c={ctx:a.ctx||null,next:null,result:null,callback:null};if(a.result!==!1)return a.callback=b,a.next=c,a.result&&h.call(l,a),i(c)}function k(a){var c={ctx:this||null,next:null,result:null,callback:null};return a=d(a),b(a)?h.call(l,{ctx:c.ctx,next:c,result:[null],callback:function(){return a}},!0):c.result=null==a?[null]:[null,a],i(c)}var l={onerror:null,debug:null};return a(g)?l.onerror=g:g&&(a(g.debug)&&(l.debug=g.debug),a(g.onerror)&&(l.onerror=g.onerror)),k.all=function(a){return k.call(this,f(a))},k.digest=function(){var a=arguments;return k.call(this,function(b){b.apply(null,a)})},k.thunkify=function(a){return function(){var b=c(arguments);return k.call(this,function(c){b.push(c),a.apply(this,b)})}},k}var j={},k=Object.prototype.toString,l=Object.prototype.hasOwnProperty,m=Array.isArray||function(a){return"[object Array]"===k.call(a)};return i.NAME="thunks",i.VERSION="v0.8.1",i});