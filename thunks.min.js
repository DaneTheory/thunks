/**
 * thunks: v0.6.3
 * https://github.com/teambition/thunks
 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.thunks=b()}(this,function(){"use strict";function a(a){return"function"==typeof a}function b(a){return"[object Object]"===k.call(a)}function c(b){return a(b)&&b._isThunk===j}function d(a,b){var c=[],d=a.length;for(b=b||0;d-->b;)c[d-b]=a[d];return c}function e(b){return b?(a(b)?b=f(b):a(b.toThunk)?b=f(b.toThunk()):a(b.then)&&(b=f(h(b))),b):b}function f(a){return a._isThunk=j,a}function g(a){return function(f){function g(){if(l(a)){i=a.length;for(var c=i-1;c>=0;c--)h(a[c],c)}else{if(!b(a))throw new Error("Not array or object");i=1;for(var d in a)i+=1,h(a[d],d);i-=1}i||j||f(null,k)}function h(a,b){return j?void 0:(a=e(a),c(a)?void a(function(a,c){return j?void 0:null!=a?(j=!0,f(a)):(k[b]=arguments.length>2?d(arguments,1):c,--i||f(null,k))}):(k[b]=a,--i||f(null,k)))}var i,j,k;try{k=new a.constructor,g()}catch(m){j=!0,f(m)}}}function h(a){return function(b){a.then(function(a){b(null,a)},b)}}function i(b){function d(a){function b(){return h.result!==!1?(h.result=arguments.length?arguments:[null],h.callback?d(h):void 0):void 0}var f,g=a.result,h=a.next,i=k.onerror||b;if(a.result=!1,k.debug&&!a.start&&k.debug.apply(null,g),null!=g[0]){if(k.onerror)return i(g[0]);g=[g[0]]}try{switch(g.length){case 1:f=a.callback.call(a.ctx,g[0]);break;case 2:f=a.callback.call(a.ctx,g[0],g[1]);break;case 3:f=a.callback.call(a.ctx,g[0],g[1],g[2]);break;default:f=a.callback.apply(a.ctx,g)}}catch(j){return i(j)}if(null==f)return b(null);if(f=e(f),!c(f))return b(null,f);try{return f.call(a.ctx,b)}catch(j){return i(j)}}function h(a){return f(function(b){return i(a,b)})}function i(a,b){var c={ctx:a.ctx};if(a.result!==!1)return a.callback=b,a.next=c,a.result&&d(a),h(c)}function j(a){var b={ctx:this||null};return a=e(a),c(a)?d({start:!0,ctx:b.ctx,next:b,result:[null],callback:function(){return a}}):b.result=null==a?[null]:[null,a],h(b)}var k={};return a(b)?k.onerror=b:b&&(k.debug=a(b.debug)?b.debug:null,k.onerror=a(b.onerror)?b.onerror:null),j.all=function(a){return j.call(this,g(a))},j.digest=function(){var a=arguments;return j.call(this,function(b){b.apply(null,a)})},j}var j={},k=Object.prototype.toString,l=Array.isArray||function(a){return"[object Array]"===k.call(a)};return i.NAME="thunks",i.VERSION="0.6.3",i});